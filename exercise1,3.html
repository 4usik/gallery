<!--  
1. Доработать функцию замены картинки в галерее таким образом, чтобы она проверяла наличие картинки по указанному в src адресу.
3. *Добавить в галерею функцию перехода к следующему изображению. По сторонам от большой картинки должны быть стрелки «вперед» и «назад», по нажатию на которые происходит замена изображения на следующее или предыдущее.
 -->





<!DOCTYPE html>
<html lang="ru">
	<head>
	<meta charset="utf-8">
	<title> exercise 1, 3 </title>
	<link rel="stylesheet" href="css/style.css" />
	<script>

		function init () {

			const images = document.querySelectorAll("img"),
				prevBtn = document.getElementById("previous"),
				nextBtn = document.getElementById("next");
				appDiv = document.getElementById("big_picture");

			appDiv.innerHTML = `<img src="img/1.jpg">`;
			prevBtn.onclick = previous(images, appDiv);
			nextBtn.onclick = next(images, appDiv);

			images.forEach((item, i) => {
				images[i].onclick = changeBigPicture(item);
			});
	
		};

		changeBigPicture = (item) => (event) => {

			const appDiv = document.getElementById("big_picture"),
				eventElement = event.target,
				src = eventElement.getAttribute('src');

			appDiv.innerHTML = `<img src='${src}'>`;

		};
		
		previous = (galleryImg, appDiv) => () => {

			const image = appDiv.firstElementChild;
			galleryImg.forEach((item, i) => {
	
				if (item.getAttribute('src') === image.getAttribute('src')) {
					if (i-1 < 0) {
						i = 3
					};
					const src = galleryImg[--i].getAttribute('src');
					appDiv.innerHTML = `<img src='${src}'>`;
				}
			});

		};

		next = (galleryImg, appDiv) => () => {

			const image = appDiv.firstElementChild;
			galleryImg.forEach((item, i) => {
	
				if (item.getAttribute('src') === image.getAttribute('src')) {
					if (i+1 > 2) {
						i = -1
					};
					const src = galleryImg[++i].getAttribute('src');
					appDiv.innerHTML = `<img src='${src}'>`;

				}
			});

		};

			window.onload = init;

	</script>
</head>
<body>
	<div class="container">
		<div id="big">
			<svg id="previous" width="40" height="73">
				<path d="M38.026 72.98L.005 36.497 38.026.018l1.969 2.004L4.066 36.498l35.929 34.479z"/>
			</svg>
			<div id="big_picture"></div>
			<svg id="next" width="40" height="73">
            	<path d="M1.974 72.98l38.021-36.482L1.974.018.004 2.022l35.93 34.476L.004 70.977z"/>
            </svg>
		</div>
		<div id="gallery">
			<img id="image_1" src="img/1.jpg">
			<img id="image_2" src="img/2.jpg">
			<img id="image_3" src="img/3.jpg">
		</div>
	</div>
</body>
</html>


			




































